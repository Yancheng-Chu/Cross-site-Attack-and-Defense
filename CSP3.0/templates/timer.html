<!doctype html>
<html>
<head>
{#    <meta http-equiv="Content-Security-Policy" content="default-src 'self';#}
{#     script-src 'self' 'nonce-{{ nonce }}';">#}

    <!-- Internal game scripts/styles, mostly boring stuff -->
    <script src="/static/game-frame.js"></script>
    <link rel="stylesheet" href="/static/game-frame-styles.css"/>
    <script nonce="{{ nonce }}">
        document.addEventListener("DOMContentLoaded", function () {
            {#var img = document.getElementById('loadingImage');#}

            function startTimer(seconds) {
                seconds = parseInt(seconds) || 3;
                setTimeout(function () {
                    window.confirm("Time is up!");
                     window.history.back();
                }, seconds * 1000);
            }
                var dum = document.createElement('div');
                dum.innerHTML = '{{ timer }}';
                var decodedString = dum.textContent;
                window.onload=function() {
                    startTimer(decodedString)
                }
            })
    </script>
</head>
<body id="level4">
<img src="/static/level4.png"/>
<br>

<img src="/static/loading.gif" id="loadingImage"/>
{#<img src="/static/loading.gif" id="loadingImage" onload=""/>#}


</script>
<br>
<div id="message">Your timer will execute in {{ timer }} seconds.</div>
</body>
</html>

